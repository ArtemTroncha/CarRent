{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport axios from \"axios\";\nconst url = 'http://localhost:3000/api/users';\n\nclass UserService {\n  //get posts\n  static getPosts() {\n    return new Promise((resolve, reject) => {\n      axios.get(url).then(res => {\n        resolve(res.data.body);\n      }).catch(err => {\n        reject(err);\n      });\n    });\n  }\n\n  static register(email, password) {\n    return axios.post(url + '/registration', {\n      email,\n      password\n    }).then(res => {\n      console.log(res.data);\n    }).catch(err => {\n      console.log(err.data);\n    });\n  }\n\n  static login(email, password) {\n    return axios.post(url + \"/login\", {\n      email,\n      password\n    }).then(res => {\n      localStorage.setItem('token', res.data.token);\n      console.log(res.data);\n      return res;\n    }).catch(err => {\n      return err;\n    });\n  }\n\n  static parseJwt(token) {\n    var base64Url = token.split('.')[1];\n    var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n    var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {\n      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n    return JSON.parse(jsonPayload);\n  }\n\n}\n\nexport default UserService;","map":{"version":3,"sources":["C:/Users/pekar/OneDrive/Pulpit/git/CarRent/client/src/UserService.js"],"names":["axios","url","UserService","getPosts","Promise","resolve","reject","get","then","res","data","body","catch","err","register","email","password","post","console","log","login","localStorage","setItem","token","parseJwt","base64Url","split","base64","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,MAAMC,GAAG,GAAC,iCAAV;;AACA,MAAMC,WAAN,CAAiB;AACb;AACe,SAARC,QAAQ,GAAG;AACd,WAAO,IAAIC,OAAJ,CAAa,CAACC,OAAD,EAASC,MAAT,KAAoB;AACpCN,MAAAA,KAAK,CAACO,GAAN,CAAUN,GAAV,EAAeO,IAAf,CAAqBC,GAAD,IAAQ;AACxBJ,QAAAA,OAAO,CAACI,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAP;AACH,OAFD,EAGCC,KAHD,CAGQC,GAAD,IAAQ;AACXP,QAAAA,MAAM,CAACO,GAAD,CAAN;AACH,OALD;AAOH,KARM,CAAP;AASH;;AACc,SAARC,QAAQ,CAACC,KAAD,EAAOC,QAAP,EAAgB;AAC3B,WAAOhB,KAAK,CAACiB,IAAN,CAAWhB,GAAG,GAAC,eAAf,EAA+B;AAACc,MAAAA,KAAD;AAAOC,MAAAA;AAAP,KAA/B,EACNR,IADM,CACAC,GAAD,IAAO;AACTS,MAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACC,IAAhB;AACH,KAHM,EAGJE,KAHI,CAGGC,GAAD,IAAS;AACdK,MAAAA,OAAO,CAACC,GAAR,CAAYN,GAAG,CAACH,IAAhB;AACH,KALM,CAAP;AAMH;;AACW,SAALU,KAAK,CAACL,KAAD,EAAOC,QAAP,EAAgB;AACpB,WAAOhB,KAAK,CAACiB,IAAN,CAAWhB,GAAG,GAAC,QAAf,EACH;AAACc,MAAAA,KAAD;AAAOC,MAAAA;AAAP,KADG,EAELR,IAFK,CAECC,GAAD,IAAO;AACXY,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6Bb,GAAG,CAACC,IAAJ,CAASa,KAAtC;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYV,GAAG,CAACC,IAAhB;AACA,aAAOD,GAAP;AACF,KANM,EAMJG,KANI,CAMGC,GAAD,IAAS;AACd,aAAOA,GAAP;AACH,KARM,CAAP;AASP;;AACc,SAARW,QAAQ,CAAED,KAAF,EAAS;AACpB,QAAIE,SAAS,GAAGF,KAAK,CAACG,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAhB;AACA,QAAIC,MAAM,GAAGF,SAAS,CAACG,OAAV,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BA,OAA7B,CAAqC,IAArC,EAA2C,GAA3C,CAAb;AACA,QAAIC,WAAW,GAAGC,kBAAkB,CAACC,IAAI,CAACJ,MAAD,CAAJ,CAAaD,KAAb,CAAmB,EAAnB,EAAuBM,GAAvB,CAA2B,UAASC,CAAT,EAAY;AACxE,aAAO,MAAM,CAAC,OAAOA,CAAC,CAACC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,CAAR,EAAsCC,KAAtC,CAA4C,CAAC,CAA7C,CAAb;AACH,KAFoC,EAElCC,IAFkC,CAE7B,EAF6B,CAAD,CAApC;AAIA,WAAOC,IAAI,CAACC,KAAL,CAAWV,WAAX,CAAP;AACH;;AAxCY;;AA2CjB,eAAe3B,WAAf","sourcesContent":["import axios from \"axios\";\r\nconst url='http://localhost:3000/api/users'\r\nclass UserService{\r\n    //get posts\r\n    static getPosts() {\r\n        return new Promise ((resolve,reject) => {\r\n            axios.get(url).then((res) =>{\r\n                resolve(res.data.body)\r\n            })\r\n            .catch((err)=> {\r\n                reject(err);\r\n            })\r\n            \r\n        });\r\n    }\r\n    static register(email,password){\r\n        return axios.post(url+'/registration',{email,password})\r\n        .then((res)=>{\r\n            console.log(res.data);\r\n        }).catch((err) => {\r\n            console.log(err.data)\r\n        })\r\n    }\r\n    static login(email,password){\r\n            return axios.post(url+\"/login\",\r\n                {email,password}\r\n            ).then((res)=>{\r\n               localStorage.setItem('token',res.data.token)\r\n               console.log(res.data)\r\n               return res\r\n            }).catch((err) => {\r\n                return err                \r\n            })\r\n    }\r\n    static parseJwt (token) {\r\n        var base64Url = token.split('.')[1];\r\n        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n        var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\r\n            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n        }).join(''));\r\n    \r\n        return JSON.parse(jsonPayload);\r\n    }\r\n}\r\n\r\nexport default UserService\r\n\r\n"]},"metadata":{},"sourceType":"module"}